# QA生成仕様書：{ドキュメント種類}
<!--
例：
QA生成仕様書：ニュース記事
-->

## 1. 概要

このフローは、xxx形式のドキュメント({ドキュメント種類})から事実を抽出し、4択のQA問題を自動生成します。

<!--
例：
このフローは、txt形式のドキュメント(ニュース記事)から事実を抽出し、4択のQA問題を自動生成します。
-->

---
## 2. ドキュメント形式

### 形式
- **xxxファイル**

<!--
例：
- **txtファイル**
-->

### メタデータ

ドキュメントの構造：
- **xxx**：{xxxには何が記述されているか}
- **yyy**：{yyyには何が記述されているか}
- **zzz**：{zzzには何が記述されているか}

<!--
例：
- **【タイトル】**：記事のタイトル
- **【メディア名】**：メディア組織名
- **【公開日時】**：記事が公開された年月日
- **【更新日時】**：記事が更新された年月日
- **【本文】**：記事の本文コンテンツ
-->

---

## 3. ステップの詳細

### ステップ1：ドキュメント読み込み
- **目的**：ドキュメントファイルを読み込む
- **入力**：指定されたファイルパス
- **処理**：ドキュメントの内容を分析

### ステップ2：問題作成
- **目的**：ドキュメント内容から4択QA問題を作成
- **入力**：分析されたドキュメント
- **処理**：要件に従い4択多肢選択問題を生成

### ステップ3：問題内容の確認
- **目的**：生成されたQA問題が、問題と回答形式の要件を満たしているか検証
- **入力**：生成されたQA問題
- **処理**：要件充足度をチェック、必要に応じて修正

### ステップ4：ファイル出力
- **目的**：作成されたQA問題をファイルとして保存
- **出力**：`{ドキュメント名}_qa.jsonl`

---

## 4. 問題と回答形式の要件

### 必須要件

1. **xxx**
   - xxxの具体的な説明
   - 説明の補足

2. **yyy**
   - xxxの具体的な説明
   - 説明の補足

<!--
例：
1. **参照表現の禁止**
   - 「記事によると」「本文から見ると」などの表現を使わない
   - 直接的な事実表現のみを使用

2. **単語/短文形式**
   - 回答は文章ではなく、単語または短い句で答えられるように
   - 選択肢の長さは最大20文字以内
-->

---

## 5. 出力形式

### ファイル形式
- **形式**：xxx
- **エンコーディング**：yyy
- **ファイル名パターン**：`zzz.xxx`

<!--
例：
- **形式**：JSONL(JSON Lines)
- **エンコーディング**：UTF-8
- **ファイル名パターン**：`{ドキュメント名}_qa.jsonl`
-->

### 出力例

```xxx
{
  "question_number": 1,
  "question_text": "xxxxxxx？",
  "options": {
    "A": "xxx",
    "B": "xxx",
    "C": "xxx",
    "D": "xxx" 
  },
  "correct_answer": "A",
  "explanation": "xxxxx"
}
```

<!--
例：
```jsonl
{
  "question_number": 1,
  "question_text": "2024年9月27日の自民党総裁選で、自民党の第28代総裁に選出されたのは誰か？",
  "options": {
    "A": "石破茂",
    "B": "高市早苗",
    "C": "茂木敏充",
    "D": "甘利明" 
  },
  "correct_answer": "A",
  "explanation": "記事に明示されている通り、石破茂元幹事長が決選投票で高市氏を逆転し、第28代総裁に選出されました。"
}
```
-->

### 各項目の説明
<!--出力例に合わせて追加・編集-->
- **question_number**：問題番号(1から始まる連番)
- **question_text**：質問文
- **options**：A, B, C, Dの4つの選択肢
- **correct_answer**：正解(A、B、C、Dのいずれか)
- **explanation**：正解の根拠

---

